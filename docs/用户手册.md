# SagaGuild 用户手册

## 目录

1. [插件介绍](#插件介绍)
2. [安装与配置](#安装与配置)
3. [基础命令](#基础命令)
4. [公会创建与管理](#公会创建与管理)
5. [成员管理](#成员管理)
6. [公会领地系统](#公会领地系统)
7. [公会银行系统](#公会银行系统)
8. [公会等级与升级](#公会等级与升级)
9. [公会任务系统](#公会任务系统)
10. [公会活动系统](#公会活动系统)
11. [公会战系统](#公会战系统)
12. [公会联盟系统](#公会联盟系统)
13. [公会聊天系统](#公会聊天系统)
14. [GUI界面使用指南](#GUI界面使用指南)
15. [常见问题解答](#常见问题解答)

## 插件介绍

SagaGuild 供了丰富的公会管理功能，包括公会创建、成员管理、领地系统、公会等级、公会战等多种功能，让玩家能够组建自己的公会，共同探索、建设和征战。

### 主要特性

- **完整的公会系统**：创建、解散、管理公会
- **成员管理**：邀请、踢出、提升、降级成员
- **领地系统**：声明和保护公会领地
- **银行系统**：公会共享资金
- **等级系统**：通过活动提升公会等级
- **任务系统**：完成任务获得奖励
- **活动系统**：组织公会活动
- **公会战**：与其他公会进行对抗
- **联盟系统**：与其他公会结成联盟
- **聊天系统**：公会内部专属聊天频道
- **直观的GUI界面**：便捷管理公会的各项功能

## 安装与配置

### 系统要求

- Bukkit 1.20.1 服务器
- Java 17 或更高版本

### 安装步骤

1. 下载 SagaGuild.jar 文件
2. 将文件放入服务器的 plugins 文件夹中
3. 重启服务器或使用插件管理器加载插件
4. 插件将自动生成配置文件

### 配置文件

插件首次加载时会生成以下配置文件：

- `config.yml`：主配置文件
- `messages.yml`：消息配置文件
- `database.db`：SQLite 数据库文件

#### 主要配置选项

```yaml
# 公会设置
guild:
  # 公会名称长度限制
  min-name-length: 3
  max-name-length: 16
  
  # 公会标签长度限制
  min-tag-length: 2
  max-tag-length: 5
  
  # 最大成员数量
  max-members: 50
  
  # 创建公会所需费用
  creation-cost: 1000
  
# 领地设置
land:
  # 每级可声明的最大区块数
  chunks-per-level: 5
  
  # 声明区块的费用
  claim-cost: 100
  
# 经验设置
experience:
  # 各种活动获得的经验值
  block-break: 1
  block-place: 1
  mob-kill: 5
  player-kill: 20
```

## 基础命令

SagaGuild 插件的所有命令都以 `/guild` 或 `/g` 开头。

### 帮助命令

- `/guild help` - 显示帮助信息
- `/guild help <页码>` - 显示指定页码的帮助信息

### 信息查询

- `/guild info` - 查看自己所在公会的信息
- `/guild info <公会名>` - 查看指定公会的信息
- `/guild list` - 打开公会列表GUI

## 公会创建与管理

### 创建公会

- `/guild create <名称> <标签> <描述>` - 创建一个新公会
  - 例如：`/guild create 勇者联盟 勇者 最强的公会联盟`

### 公会管理

- `/guild manage` - 打开公会管理GUI
- `/guild settings` - 打开公会设置GUI（仅会长可用）
- `/guild disband` - 解散公会（仅会长可用）

## 成员管理

### 成员操作

- `/guild invite <玩家>` - 邀请玩家加入公会
- `/guild join <公会名>` - 加入一个公开的公会
- `/guild leave` - 离开当前公会
- `/guild kick <玩家>` - 踢出公会成员（需要权限）

### 职位管理

- `/guild promote <玩家>` - 提升成员职位（需要权限）
- `/guild demote <玩家>` - 降低成员职位（需要权限）
- `/guild transfer <玩家>` - 转让会长职位（仅会长可用）

### 成员管理GUI

- `/guild members` - 打开成员管理GUI

## GUI界面使用指南

SagaGuild 提供了直观的图形界面，方便玩家管理公会的各项功能。

### 公会列表GUI

通过 `/guild list` 命令打开公会列表GUI，可以浏览服务器中的所有公会。

- **功能**：
  - 显示所有公会的基本信息
  - 点击公会图标查看详细信息
  - 支持分页浏览
  - 提供搜索功能

### 公会管理GUI

通过 `/guild manage` 命令打开公会管理GUI，可以管理公会的各项功能。

- **功能**：
  - 公会基本信息管理
  - 成员管理
  - 银行管理
  - 领地管理
  - 活动管理
  - 任务管理
  - 联盟管理
  - 公会战管理

### 公会成员管理GUI

通过 `/guild members` 命令或在公会管理GUI中点击成员管理按钮打开。

- **功能**：
  - 显示所有公会成员
  - 查看成员详细信息
  - 提升/降级成员
  - 踢出成员
  - 转让会长职位

### 公会设置GUI

通过 `/guild settings` 命令或在公会管理GUI中点击设置按钮打开（仅会长可用）。

- **功能**：
  - 公会公开性设置
  - 公会描述和公告设置
  - 公会标签颜色设置
  - 领地相关设置
  - 聊天设置

## 常见问题解答

### Q: 如何创建公会？
A: 使用命令 `/guild create <名称> <标签> <描述>` 创建公会。例如：`/guild create 勇者联盟 勇者 最强的公会联盟`。

### Q: 如何邀请玩家加入公会？
A: 使用命令 `/guild invite <玩家名>` 邀请玩家加入公会。

### Q: 如何提升公会等级？
A: 公会成员通过各种活动（如挖矿、建造、击杀怪物等）获得经验，累积到一定程度后公会自动升级。

### Q: 如何声明公会领地？
A: 站在想要声明的区块上，使用命令 `/guild claim` 声明该区块为公会领地。

### Q: 如何管理公会成员权限？
A: 打开公会成员管理GUI（`/guild members`），点击成员头像可以进行权限管理。

### Q: 公会解散后领地会怎样？
A: 公会解散后，所有领地将被释放，其他公会可以重新声明这些区块。

### Q: 如何转让公会会长？
A: 使用命令 `/guild transfer <玩家名>` 或在成员管理GUI中操作。

### Q: 如何发起公会战？
A: 使用命令 `/guild war challenge <公会名>` 向其他公会发起挑战。

## 权限节点

SagaGuild 使用以下权限节点控制玩家的操作权限：

- `guild.create` - 创建公会的权限
- `guild.admin` - 管理员权限，可以管理所有公会
- `guild.claim` - 声明领地的权限
- `guild.war` - 发起公会战的权限